<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Saudi Tourism</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.tailwindcss.com"></script>

<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
body{font-family:Arial}
.card{transition:.3s}
.card:hover{transform:translateY(-5px)}
</style>
</head>

<body class="bg-[#3b2f2f] text-white">

<!-- HEADER -->
<header class="bg-gradient-to-r from-[#8b6b2e] to-[#d4af37] p-4 flex justify-between items-center">

<h1 class="text-black font-bold text-lg flex items-center gap-2">
<i class="fa-solid fa-earth-asia"></i> Saudi Tourism
</h1>

<nav class="flex gap-6 text-black font-semibold items-center">

<a href="#" class="flex items-center gap-1">
<i class="fa-solid fa-house"></i> Home
</a>

<a href="#" class="flex items-center gap-1">
<i class="fa-solid fa-location-dot"></i> Destinations
</a>

<a href="#" class="flex items-center gap-1">
<i class="fa-solid fa-envelope"></i> Contact
</a>

<button onclick="openAdmin()"
class="bg-black/20 px-3 py-1 rounded flex items-center gap-1">
<i class="fa-solid fa-user-shield"></i> Admin
</button>

</nav>

</header>

<!-- CITIES -->
<section class="max-w-6xl mx-auto py-12 px-6">

<h2 class="text-3xl text-[#d4af37] mb-8 text-center font-bold">
Cities
</h2>

<div class="grid md:grid-cols-3 gap-6">

<div class="card bg-[#4a362a] p-6 rounded text-center">
<h3 class="text-xl font-bold mb-4">Jeddah</h3>
<button onclick="showGallery('jeddah')"
class="bg-[#d4af37] text-black px-4 py-2 rounded">
Explore ‚Üí
</button>
</div>

<div class="card bg-[#4a362a] p-6 rounded text-center">
<h3 class="text-xl font-bold mb-4">Riyadh</h3>
<button onclick="showGallery('riyadh')"
class="bg-[#d4af37] text-black px-4 py-2 rounded">
Explore ‚Üí
</button>
</div>

<div class="card bg-[#4a362a] p-6 rounded text-center">
<h3 class="text-xl font-bold mb-4">Tabuk</h3>
<button onclick="showGallery('tabuk')"
class="bg-[#d4af37] text-black px-4 py-2 rounded">
Explore ‚Üí
</button>
</div>

</div>
</section>

<!-- GALLERY -->
<section class="max-w-6xl mx-auto px-6 pb-20">
<h2 class="text-2xl text-[#d4af37] mb-4 font-bold">
Gallery
</h2>
<div id="gallery" class="grid md:grid-cols-3 gap-6"></div>
</section>

<!-- ADMIN PANEL -->
<div id="adminPanel"
class="fixed inset-0 bg-black/80 hidden items-center justify-center">

<div class="bg-[#4a362a] p-6 rounded w-80">

<h3 class="text-[#d4af37] text-center mb-4 font-bold">
Upload Images
</h3>

<select id="citySelect"
class="w-full p-2 mb-3 bg-[#3b2f2f] rounded">
<option value="jeddah">Jeddah</option>
<option value="riyadh">Riyadh</option>
<option value="tabuk">Tabuk</option>
</select>

<input type="file"
id="imageInput"
multiple
accept="image/png,image/jpeg"
class="w-full mb-3 bg-white text-black p-1">

<button type="button"
id="uploadBtn"
class="w-full bg-[#d4af37] text-black py-2 rounded">
Upload
</button>

<button type="button"
onclick="closeAdmin()"
class="w-full mt-3 bg-gray-700 py-2 rounded">
Close
</button>

</div>
</div>

<script>

/* OPEN ADMIN */
function openAdmin(){
let pass = prompt("Enter password:");
if(pass === "1234"){
document.getElementById("adminPanel").classList.remove("hidden");
document.getElementById("adminPanel").classList.add("flex");
}else{
alert("Wrong password");
}
}

/* CLOSE ADMIN */
function closeAdmin(){
document.getElementById("adminPanel").classList.add("hidden");
}

/* WAIT UNTIL PAGE LOAD */
window.addEventListener("load", function(){

document.getElementById("uploadBtn").addEventListener("click", function(){

let input = document.getElementById("imageInput");
let city = document.getElementById("citySelect").value;

if(input.files.length === 0){
alert("Please select images ‚ùå");
return;
}

let data = JSON.parse(localStorage.getItem("images")) || {};

if(!data[city]){
data[city] = [];
}

let total = input.files.length;
let finished = 0;

Array.from(input.files).forEach(function(file){

let reader = new FileReader();

reader.onload = function(e){

data[city].push(e.target.result);
finished++;

if(finished === total){
localStorage.setItem("images", JSON.stringify(data));
alert("Images Uploaded ‚úî");
showGallery(city);
}

};

reader.readAsDataURL(file);

});

input.value = "";

});

});

/* SHOW GALLERY */
function showGallery(city){

let data = JSON.parse(localStorage.getItem("images")) || {};
let gallery = document.getElementById("gallery");

gallery.innerHTML = "";

if(!data[city] || data[city].length === 0){
gallery.innerHTML = "<p>No images yet.</p>";
return;
}

data[city].forEach(function(img,index){

let div = document.createElement("div");
div.className = "relative";

let image = document.createElement("img");
image.src = img;
image.className = "w-full h-56 object-cover rounded";

let del = document.createElement("button");
del.innerHTML = "üóë";
del.className = "absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded";
del.onclick = function(){
deleteImage(city,index);
};

div.appendChild(image);
div.appendChild(del);
gallery.appendChild(div);

});

}

/* DELETE */
function deleteImage(city,index){
let data = JSON.parse(localStorage.getItem("images")) || {};
data[city].splice(index,1);
localStorage.setItem("images", JSON.stringify(data));
showGallery(city);
}

</script>

</body>
</html>
